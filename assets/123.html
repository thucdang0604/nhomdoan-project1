<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Thư Pháp - Tạo Hình Nền Đẹp</title>
  <link rel="stylesheet" href="cssfont.css"> <!-- link to the CSS file -->
  <script src="https://cdn.interactjs.io/v1.10.11/interactjs/index.js"></script> <!-- added a script tag to load interact.js -->
</head>
<body>
<div class="container">
<div class="header">
<h1 class="title">Thư Pháp - Tạo Hình Nền Đẹp</h1>
</div>
<div class="content">
<img src="/nenviet/47.jpg" alt="Image" class="image"> <!-- change the src to your background image -->
<div class="overlay">
<span id="text" class="text"></span> <!-- change the class to your font style -->
</div>
</div>
<div class="footer">
<input type="text" id="input" placeholder="Nhập chữ thư pháp" class="input">
<button id="button" class="button">Tạo</button>
</div>
</div>
<script>
var input = document.getElementById("input"); // get the input element
var button = document.getElementById("button"); // get the button element
var text = document.getElementById("text"); // get the text element

button.onclick = function() { // add a click event listener to the button
if (input.value) { // check if the input value is not empty
text.innerHTML = input.value; // set the text
interact(text).draggable({ // make the text draggable with interact.js
  listeners: { 
    move: dragMove // use dragMove function as a listener for move event
  }
}).gesturable({ // make the text gesturable with interact.js
  listeners: {
    start: gestureStart, // use gestureStart function as a listener for start event
    move: gestureMove // use gestureMove function as a listener for move event
  }
});
}
}

// added a function to handle drag move event with interact.js
function dragMove(e) {
  var x = parseFloat(text.getAttribute("data-x")) || 0; // get the x coordinate of the text or set it to 0
  var y = parseFloat(text.getAttribute("data-y")) || 0; // get the y coordinate of the text or set it to 0

  x += e.dx; // add the horizontal movement to x
  y += e.dy; // add the vertical movement to y

  text.style.transform = "translate(" + x + "px," + y + "px)"; // use transform property to move the text

  text.setAttribute("data-x", x); // set the x attribute of the text
  text.setAttribute("data-y", y); // set the y attribute of the text
}

// added a function to handle gesture start event with interact.js
function gestureStart(e) {
  var angle = parseFloat(text.getAttribute("data-angle")) || 0; // get the angle of the text or set it to 0

  e.target.style.transformOrigin = "50% 50%"; // set the transform origin to the center of the text

  text.setAttribute("data-angle", angle); // set the angle attribute of the text
}

// added a function to handle gesture move event with interact.js
function gestureMove(e) {
  var angle = parseFloat(text.getAttribute("data-angle")) || 0; // get the angle of the text or set it to 0

  angle += e.da; // add the rotation movement to angle

  text.style.transform = "rotate(" + angle + "deg)"; // use transform property to rotate the text

  text.setAttribute("data-angle", angle); // set the angle attribute of the text
}
</script>
</body>
</html